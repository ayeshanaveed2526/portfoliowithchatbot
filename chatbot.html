<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayesha's Chatbot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            width: 100%;
            max-width: 600px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .chat-header {
            background: #4a5568;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .chat-header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .chat-header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f7fafc;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }

        .message.user {
            align-items: flex-end;
        }

        .message.bot {
            align-items: flex-start;
        }

        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.5;
        }

        .user .message-content {
            background: #4a5568;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .bot .message-content {
            background: white;
            color: #2d3748;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .timestamp {
            font-size: 11px;
            color: #a0aec0;
            margin-top: 5px;
        }

        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 10px;
        }

        #userInput {
            flex: 1;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        #userInput:focus {
            border-color: #4a5568;
        }

        #sendButton {
            padding: 12px 24px;
            background: #4a5568;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        #sendButton:hover {
            background: #2d3748;
        }

        #sendButton:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: none;
            padding: 12px 16px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 15px;
            margin-left: 20px;
            width: fit-content;
        }

        .typing-indicator span {
            height: 8px;
            width: 8px;
            background: #4a5568;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .api-key-container {
            padding: 15px 20px;
            background: #edf2f7;
            border-bottom: 1px solid #e2e8f0;
        }

        .api-key-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
        }

        .api-key-input:focus {
            border-color: #4a5568;
        }

        .info-text {
            font-size: 12px;
            color: #718096;
            margin-top: 5px;
            text-align: center;
        }

        .api-key-status {
            font-size: 12px;
            color: #48bb78;
            margin-top: 5px;
            text-align: center;
            display: none;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>Ayesha's Assistant</h1>
            <p>Ask me anything about Ayesha!</p>
        </div>
        
        <div class="api-key-container">
            <input type="password" id="apiKey" class="api-key-input" placeholder="Enter your Open Router API Key" value="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">
            <div class="info-text">âœ“ API key is pre-configured. You can start chatting!</div>
            <div class="api-key-status" id="apiKeyStatus">API key is valid!</div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="message-content">
                    ðŸ‘‹ Hi there! I'm Ayesha's personal assistant. Ask me anything about her education, skills, hobbies, or goals!
                </div>
                <div class="timestamp">Just now</div>
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <div class="chat-input-container">
            <input type="text" id="userInput" placeholder="Type your question about Ayesha..." autofocus>
            <button id="sendButton">Send</button>
        </div>
    </div>

    <script>
        // Your information from the Word file
        const MY_INFO = `
Name: Ayesha Naveed
Location: Pakistan

Education:
- Bachelor of Computer Science â€“ NCBA&E (6th Semester | CGPA: 3.74)
- Intermediate (FSc Pre-Medical) â€“ Superior College (817/1100 marks)
- Matric (Science) â€“ Ali Foundation Girls High School (1085/1100 marks)
- Attended KIPS Academy for both Matric and Intermediate

Work Experience:
- 3-Month Internship (2025) â€“ Learned basic Frontend Development
- Built multiple university projects (OS, Web Engineering, HCI, Graphics)
- Created an Upwork Discord Bot and worked with APIs

Hobbies & Interests:
- Calligraphy painting (8 years experience)
- Selling customized art and gift products
- Learning AI and emerging technologies

Skills:
- HTML, CSS, JavaScript
- Basic Frontend Development
- Figma
- API Integration
- Discord Bot Development
- Problem Solving
- Basic AI Concepts

Goals:
- Become a professional AI Engineer
- Work in top companies of Pakistan
- Become financially independent before graduation
- Grow my small online gift and art business

Fun Facts:
- Sold calligraphy artwork and received paid orders
- Started a small social media business for Eid baskets and customized gifts
- Transitioned from Pre-Medical to Computer Science and maintained a strong CGPA of 3.74

`;

        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');
        const sendButton = document.getElementById('sendButton');
        const typingIndicator = document.getElementById('typingIndicator');
        const apiKeyInput = document.getElementById('apiKey');
        const apiKeyStatus = document.getElementById('apiKeyStatus');

        // Enable input immediately since API key is pre-filled
        window.onload = function() {
            // Check if API key is pre-filled
            if (apiKeyInput.value.trim().length > 0) {
                userInput.disabled = false;
                sendButton.disabled = false;
                apiKeyStatus.style.display = 'block';
                userInput.focus();
            }
        };

        // Also handle any changes to API key
        apiKeyInput.addEventListener('input', function() {
            const hasApiKey = this.value.trim().length > 0;
            userInput.disabled = !hasApiKey;
            sendButton.disabled = !hasApiKey;
            
            if (hasApiKey) {
                userInput.focus();
                apiKeyStatus.style.display = 'block';
            } else {
                apiKeyStatus.style.display = 'none';
            }
        });

        function addMessage(text, isUser) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = text;
            
            const timestampDiv = document.createElement('div');
            timestampDiv.className = 'timestamp';
            const now = new Date();
            timestampDiv.textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.appendChild(contentDiv);
            messageDiv.appendChild(timestampDiv);
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function sendMessage() {
            const message = userInput.value.trim();
            const apiKey = apiKeyInput.value.trim();
            
            if (!message) return;
            
            if (!apiKey) {
                addMessage("âš ï¸ Please enter your Open Router API key first.", false);
                return;
            }
            
            // Add user message
            addMessage(message, true);
            userInput.value = '';
            
            // Show typing indicator
            typingIndicator.style.display = 'flex';
            
            try {
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`,
                        'HTTP-Referer': window.location.href,
                        'X-Title': 'Ayesha Chatbot'
                    },
                    body: JSON.stringify({
                        model: 'openai/gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'system',
                                content: `You are a chatbot that ONLY provides information about Ayesha Naveed. 
                                You cannot answer any questions that are not about Ayesha. 
                                If asked about anything else, politely respond that you can only share information about Ayesha.
                                Be friendly and enthusiastic when sharing information about her.
                                
                                Here is all the information about Ayesha:
                                ${MY_INFO}`
                            },
                            {
                                role: 'user',
                                content: message
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 500
                    })
                });
                
                const data = await response.json();
                
                // Hide typing indicator
                typingIndicator.style.display = 'none';
                
                if (data.error) {
                    addMessage(`Error: ${data.error.message}`, false);
                } else {
                    const botResponse = data.choices[0].message.content;
                    addMessage(botResponse, false);
                }
                
            } catch (error) {
                typingIndicator.style.display = 'none';
                addMessage(`Error: ${error.message}. Please check your API key and try again.`, false);
            }
        }

        // Event listeners
        sendButton.addEventListener('click', sendMessage);
        
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Save API key to localStorage when changed (optional)
        apiKeyInput.addEventListener('change', function() {
            if (this.value.trim()) {
                localStorage.setItem('openrouter_api_key', this.value.trim());
            }
        });

        // Initial check for API key
        if (apiKeyInput.value.trim().length > 0) {
            userInput.disabled = false;
            sendButton.disabled = false;
            apiKeyStatus.style.display = 'block';
        }
    </script>
</body>
</html>